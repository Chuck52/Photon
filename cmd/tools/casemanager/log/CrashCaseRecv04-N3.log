os.args=["smartraiden" "--datadir=.smartraiden" "--api-address=127.0.0.1:6003" "--listen-address=127.0.0.1:60030" "--address=0xaaAA7F676a677c0B3C8E4Bb14aEC7Be61365acfE" "--keystore-path=../../../testdata/casemanager-keystore" "--registry-contract-address=0x2eec918d4269C833b2296d4653CD721d6Ba6cbF9" "--password-file=../../../testdata/casemanager-keystore/pass" "--eth-rpc-endpoint=ws://182.254.155.208:30306" "--verbosity=5" "--debug"]

INFO [07-02|19:43:58.713|cmd/smartraiden/mainimpl/impl.go:145] Welcom to smartraiden,version 0.3

 

INFO [07-02|19:43:58.713|cmd/smartraiden/mainimpl/impl.go:146] os.args=["smartraiden" "--datadir=.smartraiden" "--api-address=127.0.0.1:6003" "--listen-address=127.0.0.1:60030" "--address=0xaaAA7F676a677c0B3C8E4Bb14aEC7Be61365acfE" "--keystore-path=../../../testdata/casemanager-keystore" "--registry-contract-address=0x2eec918d4269C833b2296d4653CD721d6Ba6cbF9" "--password-file=../../../testdata/casemanager-keystore/pass" "--eth-rpc-endpoint=ws://182.254.155.208:30306" "--verbosity=5" "--debug"] 

TRACE[07-02|19:43:58.714|cmd/smartraiden/mainimpl/impl.go:281] password is 123 

TRACE[07-02|19:43:59.56|models/db.go:86]                      dbpath=.smartraiden/aaaa7f67/log.db 

2018/07/02 19:43:59 [impl.go:158] [I] ethclient connection status changed from 0 to 1

TRACE[07-02|19:43:59.654|network/xmpptransport/xmpp.go:137]    aaaa new xmpp user 0xaaAA7F676a677c0B3C8E4Bb14aEC7Be61365acfE password 65100f2ce288ecd6a72626f167eeb2c385979f8bffc00061c2da70247c4035a847a5fd839d5a206de154f2e98bd9d67c5c0e8e1b6b8eeb2d239a7b35f80883a700 

INFO [07-02|19:44:01.38|network/xmpptransport/xmpp.go:251]    changeStatus from 0 to 1 

INFO [07-02|19:44:01.381|raidenService.go:190]                 create raiden service registry=0x2eec918d4269C833b2296d4653CD721d6Ba6cbF9,node=0xaaAA7F676a677c0B3C8E4Bb14aEC7Be61365acfE 

DEBUG[07-02|19:44:01.42|blockchain/alarmtask.go:74]           starting block number blocknubmer=2644810 

WARN [07-02|19:44:01.497|blockchain/alarmtask.go:114]          alarm missed 0 blocks 

TRACE[07-02|19:44:01.497|blockchain/alarmtask.go:118]          new block :2644810 

TRACE[07-02|19:44:01.731|network/xmpptransport/xmpp.go:235]    node status change 0xaaaa7f676a677c0b3c8e4bb14aec7be61365acfe@mobileraiden, deviceType=other,isonline=true 

                   9725: 0     2b0c: 1     aaaa: 2     d941: 3     b021: 4

       9725: 0           0           1           0           0           0

       2b0c: 1           1           0           1           1           0

       aaaa: 2           0           1           0           1           1

       d941: 3           0           1           1           0           0

       b021: 4           0           0           1           0           0

INFO [07-02|19:44:05.827|snapshot.go:26]                       restoreSnapshot... 

INFO [07-02|19:44:05.827|snapshot.go:65]                       restore channel... 

INFO [07-02|19:44:05.827|snapshot.go:71]                       new channel created when shutdown 0x4ED5a3bfeC0733775Bb77B46C7B40b419C6019D2  

TRACE[07-02|19:44:05.827|models/channels.go:19]                new channel 0x4ED5a3bfeC0733775Bb77B46C7B40b419C6019D2 

INFO [07-02|19:44:05.828|snapshot.go:71]                       new channel created when shutdown 0xBAC7a664BbCA7799b9Ea82Ca3D41d8399420c6EB  

TRACE[07-02|19:44:05.828|models/channels.go:19]                new channel 0xBAC7a664BbCA7799b9Ea82Ca3D41d8399420c6EB 

INFO [07-02|19:44:05.829|snapshot.go:71]                       new channel created when shutdown 0xe5786De83d47b417890CF55145b8d8C122B13143  

TRACE[07-02|19:44:05.829|models/channels.go:19]                new channel 0xe5786De83d47b417890CF55145b8d8C122B13143 

TRACE[07-02|19:44:05.83|snapshot.go:217]                      restoreToken2Hash2Channels... 

INFO [07-02|19:44:05.83|snapshot.go:120]                      restore statemanager ,last close correct=false 

TRACE[07-02|19:44:05.83|snapshot.go:205]                      restoreRevealSecret...  

TRACE[07-02|19:44:05.83|models/revealsecret.go:129]           GetAllUncompleteSentRevealSecret=([]*models.SentRevealSecret) <nil>

 

TRACE[07-02|19:44:05.83|models/channels.go:31]                save channel 0xBAC7a664BbCA7799b9Ea82Ca3D41d8399420c6EB 

TRACE[07-02|19:44:05.831|models/channels.go:31]                save channel 0xe5786De83d47b417890CF55145b8d8C122B13143 

TRACE[07-02|19:44:05.831|models/channels.go:31]                save channel 0x4ED5a3bfeC0733775Bb77B46C7B40b419C6019D2 

INFO [07-02|19:44:05.833|network/transport.go:166]             udp server listening on 127.0.0.1:60030 

INFO [07-02|19:44:05.833|network/transport.go:168]              listen udp on 127.0.0.1:60030           name=aaaa

TRACE[07-02|19:44:05.834|network/xmpptransport/xmpp.go:442]    aaaa send msg 0xaaaa7f676a677c0b3c8e4bb14aec7be61365acfe@mobileraiden:0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden TX2WHNUHVS 

TRACE[07-02|19:44:06.195|network/xmpptransport/xmpp.go:219]    aaaa TX2WHNUHVS received response 

TRACE[07-02|19:44:06.195|network/xmpptransport/xmpp.go:235]    node status change 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden, deviceType=,isonline=false 

TRACE[07-02|19:44:06.201|network/xmpptransport/xmpp.go:442]    aaaa send msg 0xaaaa7f676a677c0b3c8e4bb14aec7be61365acfe@mobileraiden:0xb02116a9d525debfa0d871418bd4954bc77e2164@mobileraiden SRGTJE74LB 

TRACE[07-02|19:44:06.682|network/xmpptransport/xmpp.go:219]    aaaa SRGTJE74LB received response 

TRACE[07-02|19:44:06.682|network/xmpptransport/xmpp.go:235]    node status change 0xb02116a9d525debfa0d871418bd4954bc77e2164@mobileraiden, deviceType=,isonline=false 

TRACE[07-02|19:44:06.683|network/xmpptransport/xmpp.go:442]    aaaa send msg 0xaaaa7f676a677c0b3c8e4bb14aec7be61365acfe@mobileraiden:0xd941d0268d9b41a0c7d3705a067cde65b80456f3@mobileraiden 6YWGYBWSSN 

TRACE[07-02|19:44:07.05|network/xmpptransport/xmpp.go:219]    aaaa 6YWGYBWSSN received response 

TRACE[07-02|19:44:07.05|network/xmpptransport/xmpp.go:235]    node status change 0xd941d0268d9b41a0c7d3705a067cde65b80456f3@mobileraiden, deviceType=,isonline=false 

02/Jul/2018:19:44:07 +0800 [0;32m200[0m [36;1m60Î¼s[0m "GET /api/1/address HTTP/1.1" [1;30m- "Go-http-client/1.1"[0m

TRACE[07-02|19:44:11.565|network/xmpptransport/xmpp.go:235]    node status change 0xb02116a9d525debfa0d871418bd4954bc77e2164@mobileraiden, deviceType=other,isonline=true 

INFO [07-02|19:44:13.047|network/xmpptransport/xmpp.go:222]    receive unkonwn iq message (xmpp.Presence) {

 From: (string) (len=55) "0xb02116a9d525debfa0d871418bd4954bc77e2164@mobileraiden",

 To: (string) (len=61) "0xaaaa7f676a677c0b3c8e4bb14aec7be61365acfe@mobileraiden/other",

 Type: (string) (len=9) "subscribe",

 Show: (string) "",

 Status: (string) "",

 ID: (string) (len=10) "GWEKBM46G6"

}

 

TRACE[07-02|19:44:16.83|network/xmpptransport/xmpp.go:235]    node status change 0xd941d0268d9b41a0c7d3705a067cde65b80456f3@mobileraiden, deviceType=other,isonline=true 

INFO [07-02|19:44:19.226|network/xmpptransport/xmpp.go:222]    receive unkonwn iq message (xmpp.Presence) {

 From: (string) (len=55) "0xd941d0268d9b41a0c7d3705a067cde65b80456f3@mobileraiden",

 To: (string) (len=61) "0xaaaa7f676a677c0b3c8e4bb14aec7be61365acfe@mobileraiden/other",

 Type: (string) (len=9) "subscribe",

 Show: (string) "",

 Status: (string) "",

 ID: (string) (len=10) "6MGX6LJARS"

}

 

TRACE[07-02|19:44:20.1|blockchain/alarmtask.go:118]          new block :2644820 

TRACE[07-02|19:44:21.384|network/xmpptransport/xmpp.go:157]    send keep alive.... 

TRACE[07-02|19:44:23.984|network/xmpptransport/xmpp.go:235]    node status change 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden, deviceType=other,isonline=true 

INFO [07-02|19:44:25.83|network/xmpptransport/xmpp.go:222]    receive unkonwn iq message (xmpp.Presence) {

 From: (string) (len=55) "0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden",

 To: (string) (len=61) "0xaaaa7f676a677c0b3c8e4bb14aec7be61365acfe@mobileraiden/other",

 Type: (string) (len=9) "subscribe",

 Show: (string) "",

 Status: (string) "",

 ID: (string) (len=10) "TJCCQ2IWCB"

}

 

TRACE[07-02|19:44:29.569|network/xmpptransport.go:107]         received from 2b0c, message=MediatedTransfer name=aaaa

TRACE[07-02|19:44:29.569|models/statemanager.go:60]            get ack 39ba from db,result=0 

TRACE[07-02|19:44:29.569|network/protocol.go:467]              received msg=Message{type=MediatedTransfer expiration=2645419,token=75c9,recipient=aaaa,target=b021,initiator=9725,hashlock=612f,amount=45,fee=0,EnvelopMessage{nonce=1,Channel=4ed5,TransferAmount=0,Locksroot=f619,Identifier=14516956213936806097 sender=2b0c,has signature=true}} from=2b0c,expect ack=39ba name=aaaa

TRACE[07-02|19:44:29.569|network/protocol.go:476]              protocol send message to raiden... Message{type=MediatedTransfer expiration=2645419,token=75c9,recipient=aaaa,target=b021,initiator=9725,hashlock=612f,amount=45,fee=0,EnvelopMessage{nonce=1,Channel=4ed5,TransferAmount=0,Locksroot=f619,Identifier=14516956213936806097 sender=2b0c,has signature=true}} name=aaaa

DEBUG[07-02|19:44:29.576|channel/channel.go:525]               REGISTERED LOCK node=aaaa7f67,from=2b0c1545,to=aaaa7f67,currentlocksroot=00000000,lockamouont=45,lock_expiration=2645419,lock_hashlock=0x612f8eb4efbbce89b407f8b7ea9146236a3c6e8a6e537d122820b45f6d2bcebb 

DEBUG[07-02|19:44:29.576|channel/channel.go:551]               'REGISTERED TRANSFER node=aaaa7f67,from=2b0c1545,to=aaaa7f67,transfer_amount=0,nonce=1,current_locksroot=f619c039,

transfer=Message{type=MediatedTransfer expiration=2645419,token=75c9,recipient=aaaa,target=b021,initiator=9725,hashlock=612f,amount=45,fee=0,EnvelopMessage{nonce=1,Channel=4ed5,TransferAmount=0,Locksroot=f619,Identifier=14516956213936806097 sender=2b0c,has signature=true}} 

DEBUG[07-02|19:44:29.576|network/channelgraph.go:371]          channel aaaa7f67-b02116a9 doesn't have enough funds[45],ignoring... 

DEBUG[07-02|19:44:29.576|network/channelgraph.go:371]          channel aaaa7f67-d941d026 doesn't have enough funds[45],ignoring... 

DEBUG[07-02|19:44:29.578|channel/channel.go:525]               REGISTERED LOCK node=aaaa7f67,from=aaaa7f67,to=2b0c1545,currentlocksroot=00000000,lockamouont=45,lock_expiration=2645414,lock_hashlock=0x612f8eb4efbbce89b407f8b7ea9146236a3c6e8a6e537d122820b45f6d2bcebb 

DEBUG[07-02|19:44:29.578|channel/channel.go:551]               'REGISTERED TRANSFER node=aaaa7f67,from=aaaa7f67,to=2b0c1545,transfer_amount=0,nonce=1,current_locksroot=7429c176,

transfer=Message{type=RefundTransfer expiration=2645414,token=75c9,recipient=2b0c,target=b021,initiator=9725,hashlock=612f,amount=45,fee=0,EnvelopMessage{nonce=1,Channel=4ed5,TransferAmount=0,Locksroot=7429,Identifier=14516956213936806097 sender=aaaa,has signature=true}} 

TRACE[07-02|19:44:29.578|eventhandler.go:661]                  set message AMBTRCX4XL ReceiveProcessComplete 

TRACE[07-02|19:44:29.578|models/statemanager.go:66]            save ack 39ba to db 

TRACE[07-02|19:44:29.579|models/channels.go:66]                statemanager save channel status =(*channel.Serialization)(0xc4204698c0)({

 ChannelAddress: (common.Address) (len=20 cap=20) 0x4ED5a3bfeC0733775Bb77B46C7B40b419C6019D2,

 ChannelAddressString: (string) (len=42) "0x4ED5a3bfeC0733775Bb77B46C7B40b419C6019D2",

 TokenAddress: (common.Address) (len=20 cap=20) 0x75c98cc53754b40617A2C3E79F45ee6798a63910,

 PartnerAddress: (common.Address) (len=20 cap=20) 0x2b0C1545DBBEC6BFe7B26c699b74EB3513e52724,

 TokenAddressString: (string) (len=42) "0x75c98cc53754b40617A2C3E79F45ee6798a63910",

 PartnerAddressString: (string) (len=42) "0x2b0C1545DBBEC6BFe7B26c699b74EB3513e52724",

 OurAddress: (common.Address) (len=20 cap=20) 0xaaAA7F676a677c0B3C8E4Bb14aEC7Be61365acfE,

 RevealTimeout: (int) 3,

 OurBalanceProof: (*transfer.BalanceProofState)(0xc42010f100)({

  Nonce: (int64) 1,

  TransferAmount: (*big.Int)(0xc4203b83c0)(0),

  LocksRoot: (common.Hash) (len=32 cap=32) 0x7429c176e2e4db02c4808b3c02238773f3259255adb30eda3c37da29c86a83e4,

  ChannelAddress: (common.Address) (len=20 cap=20) 0x4ED5a3bfeC0733775Bb77B46C7B40b419C6019D2,

  MessageHash: (common.Hash) (len=32 cap=32) 0xde4ce72835c0e4160f3d5cc4dea8ee9e74ea4885c052efb697146d50a7421b61,

  Signature: ([]uint8) (len=65 cap=65) {

   00000000  53 37 f3 c5 2b ac 07 db  39 f7 b4 a8 b3 cb 03 2d  |S7..+...9......-|

   00000010  b4 a2 e4 99 b6 22 5f 96  28 db 72 17 8d ae 6e 7a  |....."_.(.r...nz|

   00000020  63 99 53 8e 52 c8 b0 f5  c4 be c7 55 fc 27 09 20  |c.S.R......U.'. |

   00000030  8f 28 d2 ac b7 66 59 e9  6a b9 69 13 64 a6 f0 40  |.(...fY.j.i.d..@|

   00000040  1c                                                |.|

  }

 }),

 PartnerBalanceProof: (*transfer.BalanceProofState)(0xc42010ec00)({

  Nonce: (int64) 1,

  TransferAmount: (*big.Int)(0xc420289fa0)(0),

  LocksRoot: (common.Hash) (len=32 cap=32) 0xf619c03924914601eb0125278d8592abf3994cc4a7990a8d9025644394069e5e,

  ChannelAddress: (common.Address) (len=20 cap=20) 0x4ED5a3bfeC0733775Bb77B46C7B40b419C6019D2,

  MessageHash: (common.Hash) (len=32 cap=32) 0x10a591a0805cef819e39edf11977b21358219b70630cbd60c6747b5cdeab6d5e,

  Signature: ([]uint8) (len=65 cap=65) {

   00000000  a4 aa 5c bd c4 99 db 6a  ca 7b 6c df 2e fc 46 11  |..\....j.{l...F.|

   00000010  e0 fa 05 83 78 01 1a e7  7d af bf f9 a2 e1 ce 08  |....x...}.......|

   00000020  7b f1 d7 c0 61 2d 8a b6  cf 3f e9 56 1f ba ee 58  |{...a-...?.V...X|

   00000030  df 18 85 42 f4 3b c1 68  c3 59 46 4e 83 ac 26 aa  |...B.;.h.YFN..&.|

   00000040  1c                                                |.|

  }

 }),

 OurLeaves: ([]common.Hash) (len=1 cap=1) {

  (common.Hash) (len=32 cap=32) 0x7429c176e2e4db02c4808b3c02238773f3259255adb30eda3c37da29c86a83e4

 },

 PartnerLeaves: ([]common.Hash) (len=1 cap=1) {

  (common.Hash) (len=32 cap=32) 0xf619c03924914601eb0125278d8592abf3994cc4a7990a8d9025644394069e5e

 },

 OurLock2PendingLocks: (map[common.Hash]channel.PendingLock) (len=1) {

  (common.Hash) (len=32 cap=32) 0x612f8eb4efbbce89b407f8b7ea9146236a3c6e8a6e537d122820b45f6d2bcebb: (channel.PendingLock) {

   Lock: (*encoding.Lock)(0xc4203df1a0)({

    Expiration: (int64) 2645414,

    Amount: (*big.Int)(0xc42028dec0)(45),

    HashLock: (common.Hash) (len=32 cap=32) 0x612f8eb4efbbce89b407f8b7ea9146236a3c6e8a6e537d122820b45f6d2bcebb

   }),

   LockHashed: (common.Hash) (len=32 cap=32) 0x7429c176e2e4db02c4808b3c02238773f3259255adb30eda3c37da29c86a83e4

  }

 },

 OurLock2UnclaimedLocks: (map[common.Hash]channel.UnlockPartialProof) {

 },

 PartnerLock2PendingLocks: (map[common.Hash]channel.PendingLock) (len=1) {

  (common.Hash) (len=32 cap=32) 0x612f8eb4efbbce89b407f8b7ea9146236a3c6e8a6e537d122820b45f6d2bcebb: (channel.PendingLock) {

   Lock: (*encoding.Lock)(0xc4203de480)({

    Expiration: (int64) 2645419,

    Amount: (*big.Int)(0xc420288c80)(45),

    HashLock: (common.Hash) (len=32 cap=32) 0x612f8eb4efbbce89b407f8b7ea9146236a3c6e8a6e537d122820b45f6d2bcebb

   }),

   LockHashed: (common.Hash) (len=32 cap=32) 0xf619c03924914601eb0125278d8592abf3994cc4a7990a8d9025644394069e5e

  }

 },

 PartnerLock2UnclaimedLocks: (map[common.Hash]channel.UnlockPartialProof) {

 },

 State: (string) (len=6) "opened",

 OurBalance: (*big.Int)(0xc4203b9120)(50),

 PartnerBalance: (*big.Int)(0xc4203b9140)(50),

 OurContractBalance: (*big.Int)(0xc420089740)(50),

 PartnerContractBalance: (*big.Int)(0xc420089720)(50),

 OurAmountLocked: (*big.Int)(0xc4203b9160)(45),

 PartnerAmountLocked: (*big.Int)(0xc4203b9180)(45),

 ClosedBlock: (int64) 0,

 SettledBlock: (int64) 0,

 SettleTimeout: (int) 600

})



 

DEBUG[07-02|19:44:29.579|network/protocol.go:355]              send msg=RefundTransfer to=2b0c,expected hash=4473 name=aaaa

TRACE[07-02|19:44:29.579|network/protocol.go:254]              queue 0x2b0C1545DBBEC6BFe7B26c699b74EB3513e52724-0x4ED5a3bfeC0733775Bb77B46C7B40b419C6019D2 try send next message name=aaaa

TRACE[07-02|19:44:29.58|network/protocol.go:266]              send to 2b0c,msg=Message{type=RefundTransfer expiration=2645414,token=75c9,recipient=2b0c,target=b021,initiator=9725,hashlock=612f,amount=45,fee=0,EnvelopMessage{nonce=1,Channel=4ed5,TransferAmount=0,Locksroot=7429,Identifier=14516956213936806097 sender=aaaa,has signature=true}}, echoash=4473 name=aaaa

TRACE[07-02|19:44:29.58|network/xmpptransport.go:98]          send to 2b0c, message=RefundTransfer     name=aaaa

TRACE[07-02|19:44:29.58|network/xmpptransport/xmpp.go:314]    aaaa send msg 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden: CAAAAAAAAAAAAAAByXaWwy+aWNEAAAAAAChdpnXJjMU3VLQGF6LD559F7meYpjkQTtWjv+wHM3dbt3tGx7QLQZxgGdIrDBVF277Gv+eybGmbdOs1E+UnJLAhFqnVJd6/oNhxQYvUlUvHfiFklyUd3+cOpEvg5RVsTjqt0wMoxqV0KcF24uTbAsSAizwCI4dz8yWSVa2zDto8N9opyGqD5GEvjrTvu86JtAf4t+qRRiNqPG6KblN9EiggtF9tK867AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUzfzxSusB9s597Sos8sDLbSi5Jm2Il+WKNtyF42ubnpjmVOOUsiw9cS+x1X8JwkgjyjSrLdmWelquWkTZKbwQBw= 

TRACE[07-02|19:44:29.58|network/protocol.go:484]              protocol receive message response from raiden ok=true,err=<nil> name=aaaa

TRACE[07-02|19:44:29.58|network/protocol.go:186]              send to 2b0c, ack=Message{type=Ack sender=aaaa,echo=39ba} name=aaaa

TRACE[07-02|19:44:29.58|network/xmpptransport.go:98]          send to 2b0c, message=Ack                name=aaaa

TRACE[07-02|19:44:29.58|network/xmpptransport/xmpp.go:314]    aaaa send msg 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden: AAAAAKqqf2dqZ3wLPI5LsUrse+YTZaz+Obp6JYlBGx/H2AMVFeoLqYYENuIzHhwXj9p1/Ncdy3U= 

TRACE[07-02|19:44:29.58|models/statemanager.go:60]            get ack 39ba from db,result=56 

TRACE[07-02|19:44:30.327|network/xmpptransport/xmpp.go:235]    node status change 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden, deviceType=other,isonline=false 

TRACE[07-02|19:44:35.584|network/xmpptransport.go:98]          send to 2b0c, message=RefundTransfer     name=aaaa

TRACE[07-02|19:44:35.584|network/xmpptransport/xmpp.go:314]    aaaa send msg 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden: CAAAAAAAAAAAAAAByXaWwy+aWNEAAAAAAChdpnXJjMU3VLQGF6LD559F7meYpjkQTtWjv+wHM3dbt3tGx7QLQZxgGdIrDBVF277Gv+eybGmbdOs1E+UnJLAhFqnVJd6/oNhxQYvUlUvHfiFklyUd3+cOpEvg5RVsTjqt0wMoxqV0KcF24uTbAsSAizwCI4dz8yWSVa2zDto8N9opyGqD5GEvjrTvu86JtAf4t+qRRiNqPG6KblN9EiggtF9tK867AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUzfzxSusB9s597Sos8sDLbSi5Jm2Il+WKNtyF42ubnpjmVOOUsiw9cS+x1X8JwkgjyjSrLdmWelquWkTZKbwQBw= 

TRACE[07-02|19:44:40.025|blockchain/alarmtask.go:118]          new block :2644830 

TRACE[07-02|19:44:41.388|network/xmpptransport/xmpp.go:157]    send keep alive.... 

TRACE[07-02|19:44:41.586|network/xmpptransport.go:98]          send to 2b0c, message=RefundTransfer     name=aaaa

TRACE[07-02|19:44:41.586|network/xmpptransport/xmpp.go:314]    aaaa send msg 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden: CAAAAAAAAAAAAAAByXaWwy+aWNEAAAAAAChdpnXJjMU3VLQGF6LD559F7meYpjkQTtWjv+wHM3dbt3tGx7QLQZxgGdIrDBVF277Gv+eybGmbdOs1E+UnJLAhFqnVJd6/oNhxQYvUlUvHfiFklyUd3+cOpEvg5RVsTjqt0wMoxqV0KcF24uTbAsSAizwCI4dz8yWSVa2zDto8N9opyGqD5GEvjrTvu86JtAf4t+qRRiNqPG6KblN9EiggtF9tK867AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUzfzxSusB9s597Sos8sDLbSi5Jm2Il+WKNtyF42ubnpjmVOOUsiw9cS+x1X8JwkgjyjSrLdmWelquWkTZKbwQBw= 

TRACE[07-02|19:44:47.586|network/xmpptransport.go:98]          send to 2b0c, message=RefundTransfer     name=aaaa

TRACE[07-02|19:44:47.586|network/xmpptransport/xmpp.go:314]    aaaa send msg 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden: CAAAAAAAAAAAAAAByXaWwy+aWNEAAAAAAChdpnXJjMU3VLQGF6LD559F7meYpjkQTtWjv+wHM3dbt3tGx7QLQZxgGdIrDBVF277Gv+eybGmbdOs1E+UnJLAhFqnVJd6/oNhxQYvUlUvHfiFklyUd3+cOpEvg5RVsTjqt0wMoxqV0KcF24uTbAsSAizwCI4dz8yWSVa2zDto8N9opyGqD5GEvjrTvu86JtAf4t+qRRiNqPG6KblN9EiggtF9tK867AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUzfzxSusB9s597Sos8sDLbSi5Jm2Il+WKNtyF42ubnpjmVOOUsiw9cS+x1X8JwkgjyjSrLdmWelquWkTZKbwQBw= 

02/Jul/2018:19:44:51 +0800 [0;32m200[0m [36;1m452Î¼s[0m "GET /api/1/channels HTTP/1.1" [1;30m- "Go-http-client/1.1"[0m

02/Jul/2018:19:44:51 +0800 [0;32m200[0m [36;1m392Î¼s[0m "GET /api/1/channels HTTP/1.1" [1;30m- "Go-http-client/1.1"[0m

TRACE[07-02|19:44:53.588|network/xmpptransport.go:98]          send to 2b0c, message=RefundTransfer     name=aaaa

TRACE[07-02|19:44:53.588|network/xmpptransport/xmpp.go:314]    aaaa send msg 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden: CAAAAAAAAAAAAAAByXaWwy+aWNEAAAAAAChdpnXJjMU3VLQGF6LD559F7meYpjkQTtWjv+wHM3dbt3tGx7QLQZxgGdIrDBVF277Gv+eybGmbdOs1E+UnJLAhFqnVJd6/oNhxQYvUlUvHfiFklyUd3+cOpEvg5RVsTjqt0wMoxqV0KcF24uTbAsSAizwCI4dz8yWSVa2zDto8N9opyGqD5GEvjrTvu86JtAf4t+qRRiNqPG6KblN9EiggtF9tK867AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUzfzxSusB9s597Sos8sDLbSi5Jm2Il+WKNtyF42ubnpjmVOOUsiw9cS+x1X8JwkgjyjSrLdmWelquWkTZKbwQBw= 

TRACE[07-02|19:44:55.253|network/xmpptransport/xmpp.go:235]    node status change 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden, deviceType=other,isonline=true 

TRACE[07-02|19:44:56.763|network/xmpptransport.go:107]         received from 2b0c, message=MediatedTransfer name=aaaa

TRACE[07-02|19:44:56.764|models/statemanager.go:60]            get ack 39ba from db,result=56 

TRACE[07-02|19:44:56.764|network/protocol.go:190]              send to 2b0c raw ack                     name=aaaa

TRACE[07-02|19:44:56.764|network/xmpptransport.go:98]          send to 2b0c, message=Ack                name=aaaa

TRACE[07-02|19:44:56.764|network/xmpptransport/xmpp.go:314]    aaaa send msg 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden: AAAAAKqqf2dqZ3wLPI5LsUrse+YTZaz+Obp6JYlBGx/H2AMVFeoLqYYENuIzHhwXj9p1/Ncdy3U= 

INFO [07-02|19:44:56.978|network/xmpptransport/xmpp.go:222]    receive unkonwn iq message (xmpp.Presence) {

 From: (string) (len=55) "0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden",

 To: (string) (len=61) "0xaaaa7f676a677c0b3c8e4bb14aec7be61365acfe@mobileraiden/other",

 Type: (string) (len=9) "subscribe",

 Show: (string) "",

 Status: (string) "",

 ID: (string) (len=10) "K77ZS2XLYQ"

}

 

TRACE[07-02|19:44:59.589|network/xmpptransport.go:98]          send to 2b0c, message=RefundTransfer     name=aaaa

TRACE[07-02|19:44:59.589|network/xmpptransport/xmpp.go:314]    aaaa send msg 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden: CAAAAAAAAAAAAAAByXaWwy+aWNEAAAAAAChdpnXJjMU3VLQGF6LD559F7meYpjkQTtWjv+wHM3dbt3tGx7QLQZxgGdIrDBVF277Gv+eybGmbdOs1E+UnJLAhFqnVJd6/oNhxQYvUlUvHfiFklyUd3+cOpEvg5RVsTjqt0wMoxqV0KcF24uTbAsSAizwCI4dz8yWSVa2zDto8N9opyGqD5GEvjrTvu86JtAf4t+qRRiNqPG6KblN9EiggtF9tK867AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUzfzxSusB9s597Sos8sDLbSi5Jm2Il+WKNtyF42ubnpjmVOOUsiw9cS+x1X8JwkgjyjSrLdmWelquWkTZKbwQBw= 

TRACE[07-02|19:45:00.018|blockchain/alarmtask.go:118]          new block :2644840 

TRACE[07-02|19:45:00.518|network/xmpptransport.go:107]         received from 2b0c, message=Ack          name=aaaa

DEBUG[07-02|19:45:00.518|network/protocol.go:454]              receive ack ,hash=4473                   name=aaaa

TRACE[07-02|19:45:00.518|network/protocol.go:284]              msg=RefundTransfer, sent success :4473   name=aaaa

TRACE[07-02|19:45:00.518|network/protocol.go:254]              queue 0x2b0C1545DBBEC6BFe7B26c699b74EB3513e52724-0x4ED5a3bfeC0733775Bb77B46C7B40b419C6019D2 try send next message name=aaaa

TRACE[07-02|19:45:00.518|raidenService.go:1470]                msg receive ack :(*smartraiden.protocolMessage)(0xc4203c41b0)({

 receiver: (common.Address) (len=20 cap=20) 0x2b0C1545DBBEC6BFe7B26c699b74EB3513e52724,

 Message: (*encoding.RefundTransfer)(0xc42046bd40)(Message{type=RefundTransfer expiration=2645414,token=75c9,recipient=2b0c,target=b021,initiator=9725,hashlock=612f,amount=45,fee=0,EnvelopMessage{nonce=1,Channel=4ed5,TransferAmount=0,Locksroot=7429,Identifier=14516956213936806097 sender=aaaa,has signature=true}})

})

 

TRACE[07-02|19:45:00.692|network/xmpptransport.go:107]         received from d941, message=MediatedTransfer name=aaaa

TRACE[07-02|19:45:00.693|models/statemanager.go:60]            get ack 70f9 from db,result=0 

TRACE[07-02|19:45:00.693|network/protocol.go:467]              received msg=Message{type=MediatedTransfer expiration=2645404,token=75c9,recipient=aaaa,target=b021,initiator=9725,hashlock=612f,amount=45,fee=0,EnvelopMessage{nonce=1,Channel=e578,TransferAmount=0,Locksroot=99c1,Identifier=14516956213936806097 sender=d941,has signature=true}} from=d941,expect ack=70f9 name=aaaa

TRACE[07-02|19:45:00.693|network/protocol.go:476]              protocol send message to raiden... Message{type=MediatedTransfer expiration=2645404,token=75c9,recipient=aaaa,target=b021,initiator=9725,hashlock=612f,amount=45,fee=0,EnvelopMessage{nonce=1,Channel=e578,TransferAmount=0,Locksroot=99c1,Identifier=14516956213936806097 sender=d941,has signature=true}} name=aaaa

INFO [07-02|19:45:00.699|transfer/mediatedtransfer/mediator/transition.go:1027] unknown statechange :(*mediatedtransfer.ReceiveBalanceProofStateChange)(0xc4203bc980)({

 Identifier: (uint64) 14516956213936806097,

 NodeAddress: (common.Address) (len=20 cap=20) 0xd941d0268D9b41a0C7d3705a067CDe65b80456F3,

 BalanceProof: (*transfer.BalanceProofState)(0xc4206e0100)({

  Nonce: (int64) 1,

  TransferAmount: (*big.Int)(0xc43069eb00)(0),

  LocksRoot: (common.Hash) (len=32 cap=32) 0x99c19ae8583e05c703a081068f157d56756d43509973c8544792804d80b26466,

  ChannelAddress: (common.Address) (len=20 cap=20) 0xe5786De83d47b417890CF55145b8d8C122B13143,

  MessageHash: (common.Hash) (len=32 cap=32) 0x9710642b90bab984bd033ee452536c0446a491053a3300bf84715754438a15c3,

  Signature: ([]uint8) (len=65 cap=65) {

   00000000  dc 95 5a 14 90 fb aa e9  49 ea 07 b8 82 0b 29 52  |..Z.....I.....)R|

   00000010  12 df f1 59 21 1c 1b 29  fa 0e 70 4d 7c bb 62 53  |...Y!..)..pM|.bS|

   00000020  23 3a d1 f4 17 d7 d8 f1  14 ce 2c f8 df 90 f5 a3  |#:........,.....|

   00000030  3e cb 51 60 e2 48 11 66  dc f9 ec 3b 3f ca 68 16  |>.Q`.H.f...;?.h.|

   00000040  1b                                                |.|

  }

 }),

 Message: (*encoding.MediatedTransfer)(0xc420488000)(Message{type=MediatedTransfer expiration=2645404,token=75c9,recipient=aaaa,target=b021,initiator=9725,hashlock=612f,amount=45,fee=0,EnvelopMessage{nonce=1,Channel=e578,TransferAmount=0,Locksroot=99c1,Identifier=14516956213936806097 sender=d941,has signature=true}})

})

 

DEBUG[07-02|19:45:00.699|channel/channel.go:525]                                REGISTERED LOCK node=aaaa7f67,from=d941d026,to=aaaa7f67,currentlocksroot=00000000,lockamouont=45,lock_expiration=2645404,lock_hashlock=0x612f8eb4efbbce89b407f8b7ea9146236a3c6e8a6e537d122820b45f6d2bcebb 

DEBUG[07-02|19:45:00.699|channel/channel.go:551]                                'REGISTERED TRANSFER node=aaaa7f67,from=d941d026,to=aaaa7f67,transfer_amount=0,nonce=1,current_locksroot=99c19ae8,

transfer=Message{type=MediatedTransfer expiration=2645404,token=75c9,recipient=aaaa,target=b021,initiator=9725,hashlock=612f,amount=45,fee=0,EnvelopMessage{nonce=1,Channel=e578,TransferAmount=0,Locksroot=99c1,Identifier=14516956213936806097 sender=d941,has signature=true}} 

DEBUG[07-02|19:45:00.699|network/channelgraph.go:371]                           channel aaaa7f67-b02116a9 doesn't have enough funds[45],ignoring... 

DEBUG[07-02|19:45:00.699|network/channelgraph.go:371]                           channel aaaa7f67-2b0c1545 doesn't have enough funds[45],ignoring... 

INFO [07-02|19:45:00.701|channel/channel.go:608]                                Insufficient funds  amount=45,Distributable=30 

ERROR[07-02|19:45:00.701|eventhandler.go:75]                                    stateMachineEventHandler dispatch:Insufficient funds

 

TRACE[07-02|19:45:00.701|network/protocol.go:484]                               protocol receive message response from raiden ok=true,err=<nil> name=aaaa

TRACE[07-02|19:45:00.701|network/protocol.go:186]                               send to d941, ack=Message{type=Ack sender=aaaa,echo=70f9} name=aaaa

TRACE[07-02|19:45:00.701|network/xmpptransport.go:98]                           send to d941, message=Ack                name=aaaa

TRACE[07-02|19:45:00.701|network/xmpptransport/xmpp.go:314]                     aaaa send msg 0xd941d0268d9b41a0c7d3705a067cde65b80456f3@mobileraiden: AAAAAKqqf2dqZ3wLPI5LsUrse+YTZaz+cPmX7lhkimiBbcAklPxDZK6AxzUenmLCz4baGT0BA+A= 

TRACE[07-02|19:45:00.701|models/statemanager.go:60]                             get ack 70f9 from db,result=0 

ERROR[07-02|19:45:00.701|ackhelper.go:57]                                       save ack for non revealsecret which should be saved before,msg  is Message{type=MediatedTransfer expiration=2645404,token=75c9,recipient=aaaa,target=b021,initiator=9725,hashlock=612f,amount=45,fee=0,EnvelopMessage{nonce=1,Channel=e578,TransferAmount=0,Locksroot=99c1,Identifier=14516956213936806097 sender=d941,has signature=true}} 

TRACE[07-02|19:45:01.391|network/xmpptransport/xmpp.go:157]                     send keep alive.... 

TRACE[07-02|19:45:20.009|blockchain/alarmtask.go:118]                           new block :2644850 

TRACE[07-02|19:45:21.395|network/xmpptransport/xmpp.go:157]                     send keep alive.... 

TRACE[07-02|19:45:40.004|blockchain/alarmtask.go:118]                           new block :2644860 

TRACE[07-02|19:45:41.4|network/xmpptransport/xmpp.go:157]                     send keep alive.... 

TRACE[07-02|19:46:00.003|blockchain/alarmtask.go:118]                           new block :2644870 

TRACE[07-02|19:46:01.403|network/xmpptransport/xmpp.go:157]                     send keep alive.... 

TRACE[07-02|19:46:20.011|blockchain/alarmtask.go:118]                           new block :2644880 

TRACE[07-02|19:46:21.408|network/xmpptransport/xmpp.go:157]                     send keep alive.... 

TRACE[07-02|19:46:40.014|blockchain/alarmtask.go:118]                           new block :2644890 

TRACE[07-02|19:46:41.412|network/xmpptransport/xmpp.go:157]                     send keep alive.... 

TRACE[07-02|19:47:00.013|blockchain/alarmtask.go:118]                           new block :2644900 

02/Jul/2018:19:47:00 +0800 [0;32m200[0m [36;1m623Î¼s[0m "GET /api/1/channels HTTP/1.1" [1;30m- "Go-http-client/1.1"[0m

02/Jul/2018:19:47:00 +0800 [0;32m200[0m [36;1m686Î¼s[0m "GET /api/1/channels HTTP/1.1" [1;30m- "Go-http-client/1.1"[0m

02/Jul/2018:19:47:00 +0800 [0;32m200[0m [36;1m632Î¼s[0m "GET /api/1/channels HTTP/1.1" [1;30m- "Go-http-client/1.1"[0m

