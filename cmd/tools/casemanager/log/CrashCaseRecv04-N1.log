os.args=["smartraiden" "--datadir=.smartraiden" "--api-address=127.0.0.1:6001" "--listen-address=127.0.0.1:60010" "--address=0x97251dDfE70ea44be0E5156C4E3AaDD30328C6a5" "--keystore-path=../../../testdata/casemanager-keystore" "--registry-contract-address=0x2eec918d4269C833b2296d4653CD721d6Ba6cbF9" "--password-file=../../../testdata/casemanager-keystore/pass" "--eth-rpc-endpoint=ws://182.254.155.208:30306" "--verbosity=5" "--debug"]

INFO [07-02|19:43:52.696|cmd/smartraiden/mainimpl/impl.go:145] Welcom to smartraiden,version 0.3

 

INFO [07-02|19:43:52.696|cmd/smartraiden/mainimpl/impl.go:146] os.args=["smartraiden" "--datadir=.smartraiden" "--api-address=127.0.0.1:6001" "--listen-address=127.0.0.1:60010" "--address=0x97251dDfE70ea44be0E5156C4E3AaDD30328C6a5" "--keystore-path=../../../testdata/casemanager-keystore" "--registry-contract-address=0x2eec918d4269C833b2296d4653CD721d6Ba6cbF9" "--password-file=../../../testdata/casemanager-keystore/pass" "--eth-rpc-endpoint=ws://182.254.155.208:30306" "--verbosity=5" "--debug"] 

TRACE[07-02|19:43:52.697|cmd/smartraiden/mainimpl/impl.go:281] password is 123 

TRACE[07-02|19:43:53.507|models/db.go:86]                      dbpath=.smartraiden/97251ddf/log.db 

2018/07/02 19:43:53 [impl.go:158] [I] ethclient connection status changed from 0 to 1

TRACE[07-02|19:43:53.598|network/xmpptransport/xmpp.go:137]    9725 new xmpp user 0x97251dDfE70ea44be0E5156C4E3AaDD30328C6a5 password 9a4e74eca2de137da28cb682d2f30ef78b462194e7a608b05facff5d1c4cf9a148f8206ee629c0c45ef046366ac1218a213a9d8ceefab1ab585029fadae9a41201 

INFO [07-02|19:43:55.379|network/xmpptransport/xmpp.go:251]    changeStatus from 0 to 1 

INFO [07-02|19:43:55.38|raidenService.go:190]                 create raiden service registry=0x2eec918d4269C833b2296d4653CD721d6Ba6cbF9,node=0x97251dDfE70ea44be0E5156C4E3AaDD30328C6a5 

DEBUG[07-02|19:43:55.418|blockchain/alarmtask.go:74]           starting block number blocknubmer=2644807 

WARN [07-02|19:43:55.503|blockchain/alarmtask.go:114]          alarm missed 0 blocks 

TRACE[07-02|19:43:55.748|network/xmpptransport/xmpp.go:235]    node status change 0x97251ddfe70ea44be0e5156c4e3aadd30328c6a5@mobileraiden, deviceType=other,isonline=true 

                   9725: 0     2b0c: 1     aaaa: 2     d941: 3     b021: 4

       9725: 0           0           1           0           0           0

       2b0c: 1           1           0           1           1           0

       aaaa: 2           0           1           0           1           1

       d941: 3           0           1           1           0           0

       b021: 4           0           0           1           0           0

INFO [07-02|19:43:56.722|snapshot.go:26]                       restoreSnapshot... 

INFO [07-02|19:43:56.722|snapshot.go:65]                       restore channel... 

INFO [07-02|19:43:56.722|snapshot.go:71]                       new channel created when shutdown 0xAE7783DFa0797391b361bC26f8BC84db50A8a819  

TRACE[07-02|19:43:56.722|models/channels.go:19]                new channel 0xAE7783DFa0797391b361bC26f8BC84db50A8a819 

TRACE[07-02|19:43:56.723|snapshot.go:217]                      restoreToken2Hash2Channels... 

INFO [07-02|19:43:56.723|snapshot.go:120]                      restore statemanager ,last close correct=false 

TRACE[07-02|19:43:56.723|snapshot.go:205]                      restoreRevealSecret...  

TRACE[07-02|19:43:56.723|models/revealsecret.go:129]           GetAllUncompleteSentRevealSecret=([]*models.SentRevealSecret) <nil>

 

TRACE[07-02|19:43:56.723|models/channels.go:31]                save channel 0xAE7783DFa0797391b361bC26f8BC84db50A8a819 

INFO [07-02|19:43:56.725|network/transport.go:166]             udp server listening on 127.0.0.1:60010 

INFO [07-02|19:43:56.725|network/transport.go:168]              listen udp on 127.0.0.1:60010           name=9725

TRACE[07-02|19:43:56.726|network/xmpptransport/xmpp.go:442]    9725 send msg 0x97251ddfe70ea44be0e5156c4e3aadd30328c6a5@mobileraiden:0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden CJ3N7EQQ4E 

TRACE[07-02|19:43:57.076|network/xmpptransport/xmpp.go:219]    9725 CJ3N7EQQ4E received response 

TRACE[07-02|19:43:57.076|network/xmpptransport/xmpp.go:235]    node status change 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden, deviceType=,isonline=false 

02/Jul/2018:19:43:58 +0800 [0;32m200[0m [36;1m63Î¼s[0m "GET /api/1/address HTTP/1.1" [1;30m- "Go-http-client/1.1"[0m

TRACE[07-02|19:44:00.041|blockchain/alarmtask.go:118]          new block :2644810 

TRACE[07-02|19:44:15.383|network/xmpptransport/xmpp.go:157]    send keep alive.... 

TRACE[07-02|19:44:20.1|blockchain/alarmtask.go:118]          new block :2644820 

TRACE[07-02|19:44:23.981|network/xmpptransport/xmpp.go:235]    node status change 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden, deviceType=other,isonline=true 

INFO [07-02|19:44:26.193|network/xmpptransport/xmpp.go:222]    receive unkonwn iq message (xmpp.Presence) {

 From: (string) (len=55) "0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden",

 To: (string) (len=61) "0x97251ddfe70ea44be0e5156c4e3aadd30328c6a5@mobileraiden/other",

 Type: (string) (len=9) "subscribe",

 Show: (string) "",

 Status: (string) "",

 ID: (string) (len=10) "NQSBACUC45"

}

 

DEBUG[07-02|19:44:28.832|raidenapi.go:421]                     initiating transfer initiator=0x97251dDfE70ea44be0E5156C4E3AaDD30328C6a5 target=0xb02116A9D525dEbfa0D871418bD4954Bc77E2164 token=0x75c98cc53754b40617A2C3E79F45ee6798a63910 amount=45 identifier=14516956213936806097 

TRACE[07-02|19:44:28.832|network/xmpptransport/xmpp.go:413]    query nodeonline 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724 

TRACE[07-02|19:44:28.839|transfer/mediatedtransfer/initiator/transition.go:177] send mediated transfer id=14516956213936806097,amount=45,token=75c98cc5,target=b02116a9,secret=0xb13b252aca26418b59bac41ba881316b0589e941a9d53b3b2fdc6a95e0bfbfc5 

DEBUG[07-02|19:44:28.84|channel/channel.go:525]                                REGISTERED LOCK node=97251ddf,from=97251ddf,to=2b0c1545,currentlocksroot=00000000,lockamouont=45,lock_expiration=2645424,lock_hashlock=0x612f8eb4efbbce89b407f8b7ea9146236a3c6e8a6e537d122820b45f6d2bcebb 

DEBUG[07-02|19:44:28.84|channel/channel.go:551]                                'REGISTERED TRANSFER node=97251ddf,from=97251ddf,to=2b0c1545,transfer_amount=0,nonce=1,current_locksroot=d9f4c0e6,

transfer=Message{type=MediatedTransfer expiration=2645424,token=75c9,recipient=2b0c,target=b021,initiator=9725,hashlock=612f,amount=45,fee=0,EnvelopMessage{nonce=1,Channel=ae77,TransferAmount=0,Locksroot=d9f4,Identifier=14516956213936806097 sender=9725,has signature=true}} 

TRACE[07-02|19:44:28.842|models/channels.go:66]                                 statemanager save channel status =(*channel.Serialization)(0xc420102b00)({

 ChannelAddress: (common.Address) (len=20 cap=20) 0xAE7783DFa0797391b361bC26f8BC84db50A8a819,

 ChannelAddressString: (string) (len=42) "0xAE7783DFa0797391b361bC26f8BC84db50A8a819",

 TokenAddress: (common.Address) (len=20 cap=20) 0x75c98cc53754b40617A2C3E79F45ee6798a63910,

 PartnerAddress: (common.Address) (len=20 cap=20) 0x2b0C1545DBBEC6BFe7B26c699b74EB3513e52724,

 TokenAddressString: (string) (len=42) "0x75c98cc53754b40617A2C3E79F45ee6798a63910",

 PartnerAddressString: (string) (len=42) "0x2b0C1545DBBEC6BFe7B26c699b74EB3513e52724",

 OurAddress: (common.Address) (len=20 cap=20) 0x97251dDfE70ea44be0E5156C4E3AaDD30328C6a5,

 RevealTimeout: (int) 3,

 OurBalanceProof: (*transfer.BalanceProofState)(0xc4200eee80)({

  Nonce: (int64) 1,

  TransferAmount: (*big.Int)(0xc4206fb1c0)(0),

  LocksRoot: (common.Hash) (len=32 cap=32) 0xd9f4c0e6c74a4977377bd8158813697e2ac87f4d76de23ca102723e809cec8be,

  ChannelAddress: (common.Address) (len=20 cap=20) 0xAE7783DFa0797391b361bC26f8BC84db50A8a819,

  MessageHash: (common.Hash) (len=32 cap=32) 0x8a6a3b7b19e1cfe207c0163a54e541d33aedb4cdaf9713e6d9f8f0e4f50efcb6,

  Signature: ([]uint8) (len=65 cap=65) {

   00000000  62 48 4e 4a 21 36 ea f2  f8 fe 4a ad d0 6b f5 db  |bHNJ!6....J..k..|

   00000010  ee c2 2f 5d 9d 7c 77 de  23 fd 3e 17 a6 56 d9 fc  |../].|w.#.>..V..|

   00000020  36 36 cd 7b 5d 05 02 92  91 8d 8d 18 ff ed e8 9a  |66.{]...........|

   00000030  b2 f5 3a bc 7a 98 65 4a  2e 1d d1 39 33 58 6c 4a  |..:.z.eJ...93XlJ|

   00000040  1c                                                |.|

  }

 }),

 PartnerBalanceProof: (*transfer.BalanceProofState)(<nil>),

 OurLeaves: ([]common.Hash) (len=1 cap=1) {

  (common.Hash) (len=32 cap=32) 0xd9f4c0e6c74a4977377bd8158813697e2ac87f4d76de23ca102723e809cec8be

 },

 PartnerLeaves: ([]common.Hash) <nil>,

 OurLock2PendingLocks: (map[common.Hash]channel.PendingLock) (len=1) {

  (common.Hash) (len=32 cap=32) 0x612f8eb4efbbce89b407f8b7ea9146236a3c6e8a6e537d122820b45f6d2bcebb: (channel.PendingLock) {

   Lock: (*encoding.Lock)(0xc420357950)({

    Expiration: (int64) 2645424,

    Amount: (*big.Int)(0xc4206faca0)(45),

    HashLock: (common.Hash) (len=32 cap=32) 0x612f8eb4efbbce89b407f8b7ea9146236a3c6e8a6e537d122820b45f6d2bcebb

   }),

   LockHashed: (common.Hash) (len=32 cap=32) 0xd9f4c0e6c74a4977377bd8158813697e2ac87f4d76de23ca102723e809cec8be

  }

 },

 OurLock2UnclaimedLocks: (map[common.Hash]channel.UnlockPartialProof) {

 },

 PartnerLock2PendingLocks: (map[common.Hash]channel.PendingLock) {

 },

 PartnerLock2UnclaimedLocks: (map[common.Hash]channel.UnlockPartialProof) {

 },

 State: (string) (len=6) "opened",

 OurBalance: (*big.Int)(0xc42063e5a0)(300),

 PartnerBalance: (*big.Int)(0xc42063e5e0)(300),

 OurContractBalance: (*big.Int)(0xc42000c2c0)(300),

 PartnerContractBalance: (*big.Int)(0xc42000c340)(300),

 OurAmountLocked: (*big.Int)(0xc42063e620)(45),

 PartnerAmountLocked: (*big.Int)(0xc42063e640)(0),

 ClosedBlock: (int64) 0,

 SettledBlock: (int64) 0,

 SettleTimeout: (int) 600

})



 

DEBUG[07-02|19:44:28.842|network/protocol.go:355]                               send msg=MediatedTransfer to=2b0c,expected hash=6cb4 name=9725

TRACE[07-02|19:44:28.843|network/protocol.go:254]                               queue 0x2b0C1545DBBEC6BFe7B26c699b74EB3513e52724-0xAE7783DFa0797391b361bC26f8BC84db50A8a819 try send next message name=9725

TRACE[07-02|19:44:28.843|network/protocol.go:266]                               send to 2b0c,msg=Message{type=MediatedTransfer expiration=2645424,token=75c9,recipient=2b0c,target=b021,initiator=9725,hashlock=612f,amount=45,fee=0,EnvelopMessage{nonce=1,Channel=ae77,TransferAmount=0,Locksroot=d9f4,Identifier=14516956213936806097 sender=9725,has signature=true}}, echoash=6cb4 name=9725

TRACE[07-02|19:44:28.843|network/xmpptransport.go:98]                           send to 2b0c, message=MediatedTransfer   name=9725

TRACE[07-02|19:44:28.843|network/xmpptransport/xmpp.go:314]                     9725 send msg 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden: BwAAAAAAAAAAAAAByXaWwy+aWNEAAAAAAChdsHXJjMU3VLQGF6LD559F7meYpjkQrneD36B5c5GzYbwm+LyE21CoqBkrDBVF277Gv+eybGmbdOs1E+UnJLAhFqnVJd6/oNhxQYvUlUvHfiFklyUd3+cOpEvg5RVsTjqt0wMoxqXZ9MDmx0pJdzd72BWIE2l+Ksh/TXbeI8oQJyPoCc7IvmEvjrTvu86JtAf4t+qRRiNqPG6KblN9EiggtF9tK867AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYkhOSiE26vL4/kqt0Gv12+7CL12dfHfeI/0+F6ZW2fw2Ns17XQUCkpGNjRj/7eiasvU6vHqYZUouHdE5M1hsShw= 

TRACE[07-02|19:44:29.761|network/xmpptransport.go:107]                          received from 2b0c, message=Ack          name=9725

DEBUG[07-02|19:44:29.762|network/protocol.go:454]                               receive ack ,hash=6cb4                   name=9725

TRACE[07-02|19:44:29.762|network/protocol.go:284]                               msg=MediatedTransfer, sent success :6cb4 name=9725

TRACE[07-02|19:44:29.762|network/protocol.go:254]                               queue 0x2b0C1545DBBEC6BFe7B26c699b74EB3513e52724-0xAE7783DFa0797391b361bC26f8BC84db50A8a819 try send next message name=9725

TRACE[07-02|19:44:29.762|raidenService.go:1470]                                 msg receive ack :(*smartraiden.protocolMessage)(0xc420260db0)({

 receiver: (common.Address) (len=20 cap=20) 0x2b0C1545DBBEC6BFe7B26c699b74EB3513e52724,

 Message: (*encoding.MediatedTransfer)(0xc420719e60)(Message{type=MediatedTransfer expiration=2645424,token=75c9,recipient=2b0c,target=b021,initiator=9725,hashlock=612f,amount=45,fee=0,EnvelopMessage{nonce=1,Channel=ae77,TransferAmount=0,Locksroot=d9f4,Identifier=14516956213936806097 sender=9725,has signature=true}})

})

 

TRACE[07-02|19:44:30.324|network/xmpptransport/xmpp.go:235]                     node status change 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden, deviceType=other,isonline=false 

TRACE[07-02|19:44:35.386|network/xmpptransport/xmpp.go:157]                     send keep alive.... 

TRACE[07-02|19:44:40.025|blockchain/alarmtask.go:118]                           new block :2644830 

02/Jul/2018:19:44:51 +0800 [0;32m200[0m [36;1m276Î¼s[0m "GET /api/1/channels HTTP/1.1" [1;30m- "Go-http-client/1.1"[0m

TRACE[07-02|19:44:55.252|network/xmpptransport/xmpp.go:235]                     node status change 0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden, deviceType=other,isonline=true 

TRACE[07-02|19:44:55.387|network/xmpptransport/xmpp.go:157]                     send keep alive.... 

INFO [07-02|19:44:57.367|network/xmpptransport/xmpp.go:222]                     receive unkonwn iq message (xmpp.Presence) {

 From: (string) (len=55) "0x2b0c1545dbbec6bfe7b26c699b74eb3513e52724@mobileraiden",

 To: (string) (len=61) "0x97251ddfe70ea44be0e5156c4e3aadd30328c6a5@mobileraiden/other",

 Type: (string) (len=9) "subscribe",

 Show: (string) "",

 Status: (string) "",

 ID: (string) (len=10) "LD6DUROEIJ"

}

 

TRACE[07-02|19:45:00.018|blockchain/alarmtask.go:118]                           new block :2644840 

TRACE[07-02|19:45:15.389|network/xmpptransport/xmpp.go:157]                     send keep alive.... 

TRACE[07-02|19:45:20.009|blockchain/alarmtask.go:118]                           new block :2644850 

TRACE[07-02|19:45:35.393|network/xmpptransport/xmpp.go:157]                     send keep alive.... 

TRACE[07-02|19:45:40.004|blockchain/alarmtask.go:118]                           new block :2644860 

TRACE[07-02|19:45:55.397|network/xmpptransport/xmpp.go:157]                     send keep alive.... 

TRACE[07-02|19:46:00.005|blockchain/alarmtask.go:118]                           new block :2644870 

TRACE[07-02|19:46:15.397|network/xmpptransport/xmpp.go:157]                     send keep alive.... 

TRACE[07-02|19:46:20.011|blockchain/alarmtask.go:118]                           new block :2644880 

TRACE[07-02|19:46:35.401|network/xmpptransport/xmpp.go:157]                     send keep alive.... 

TRACE[07-02|19:46:40.014|blockchain/alarmtask.go:118]                           new block :2644890 

TRACE[07-02|19:46:55.407|network/xmpptransport/xmpp.go:157]                     send keep alive.... 

TRACE[07-02|19:47:00.013|blockchain/alarmtask.go:118]                           new block :2644900 

02/Jul/2018:19:47:00 +0800 [0;32m200[0m [36;1m231Î¼s[0m "GET /api/1/channels HTTP/1.1" [1;30m- "Go-http-client/1.1"[0m

