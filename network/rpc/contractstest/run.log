GOROOT=/usr/local/go #gosetup
GOPATH=/Volumes/dev/smdev2:/Volumes/dev #gosetup
/usr/local/go/bin/go test -c -i -o /private/var/folders/tk/flszp4gs7sq4wrknn0y19jzr0000gn/T/___contracts_test_go github.com/SmartMeshFoundation/SmartRaiden/network/rpc/contractstest #gosetup
/usr/local/go/bin/go tool test2json -t /private/var/folders/tk/flszp4gs7sq4wrknn0y19jzr0000gn/T/___contracts_test_go -test.v -test.run "^TestApprove|TestOpenChannel|TestCloseChannel1|TestCloseChannel2|TestCloseChannelAndUpdateNonClosingAndSettle|TestCooperateSettleChannel|TestSetTotalWithdraw|TestRegisterSecret|TestUnlock|TestSignature$" #gosetup
[32mINFO [0m[06-29|22:52:55.653] tokenAddr=0xC7024E2810D0DC0f4cD582552C30530BFfD94Ceb,tokenNetwork=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3 [32mfn[0m=contracts_test.go:setup:82
=== RUN   TestApprove
--- PASS: TestApprove (4.01s)
	contracts_test.go:157: 0x292650fee408320D888e06ed89D938294Ea42f99 approve token 0xC7024E2810D0DC0f4cD582552C30530BFfD94Ceb for 0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
=== RUN   TestOpenChannel
TRACE[06-29|22:52:59.664] createchannel between 0x292650fee408320D888e06ed89D938294Ea42f99-0xF7Bc3a0C36A8CC2C25dd37fdd5dEbb5A13760E01,tokenNetwork=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
 fn=contracts_test.go:creatAChannelAndDeposit:90
INFO [06-29|22:53:03.681] OpenChannel gasLimit=69099,gasUsed=69099 fn=contracts_test.go:creatAChannelAndDeposit:101
TRACE[06-29|22:53:03.681] create channel gas 0x65bb63da180815e0a3fccaeac933ccf3ecf43c1cc5acf84c57c52a6474e3abd1:69099,channel identifier=0xce627e457b90c47070287d04d7b2ff2ab3c4c49ca290e99c6ea057bfd81fa7a7,tokennetworkaddress=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
 fn=contracts_test.go:creatAChannelAndDeposit:106
INFO [06-29|22:53:03.681] NewChannel complete...
                  fn=contracts_test.go:creatAChannelAndDeposit:107
TRACE[06-29|22:53:03.702] deposit gas 0x15db437f3aba23f6ebaa382fa8a3a2e3a763743c024f368234dd4e7b470ce824:73951
 fn=contracts_test.go:creatAChannelAndDeposit:119
INFO [06-29|22:53:07.708] Deposit1 complete...
                    fn=contracts_test.go:creatAChannelAndDeposit:125
INFO [06-29|22:53:11.732] Deposit complete...,gasLimit=73951,gasUsed=73951 fn=contracts_test.go:creatAChannelAndDeposit:137
--- PASS: TestOpenChannel (12.07s)
	contracts_test.go:175: channelID=ce627e457b90c47070287d04d7b2ff2ab3c4c49ca290e99c6ea057bfd81fa7a7,settleblockNumber=50,state=1,err=%!s(<nil>)
=== RUN   TestCloseChannel1
TRACE[06-29|22:53:11.733] createchannel between 0x292650fee408320D888e06ed89D938294Ea42f99-0x38FC199615546A98745F8770cB24b47B0E1B48CC,tokenNetwork=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
 fn=contracts_test.go:creatAChannelAndDeposit:90
INFO [06-29|22:53:15.753] OpenChannel gasLimit=69099,gasUsed=69099 fn=contracts_test.go:creatAChannelAndDeposit:101
TRACE[06-29|22:53:15.754] create channel gas 0xec2278d99701c0d563a1765c2b6f023af0e924ad41d06758e94344f026301d82:69099,channel identifier=0xbeaf2df366fa71e0a19e69bfdfeaddc4249ddd499b614487b9bcebd6318cf63c,tokennetworkaddress=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
 fn=contracts_test.go:creatAChannelAndDeposit:106
INFO [06-29|22:53:15.754] NewChannel complete...
                  fn=contracts_test.go:creatAChannelAndDeposit:107
TRACE[06-29|22:53:15.776] deposit gas 0xec4cbc8510a9acc353561c1cff0b39af76d0a8f0ba626a6a0db2bb481354f9d6:73951
 fn=contracts_test.go:creatAChannelAndDeposit:119
INFO [06-29|22:53:19.782] Deposit1 complete...
                    fn=contracts_test.go:creatAChannelAndDeposit:125
INFO [06-29|22:53:23.803] Deposit complete...,gasLimit=73951,gasUsed=73951 fn=contracts_test.go:creatAChannelAndDeposit:137
INFO [06-29|22:53:27.819] CloseChannel no evidence gasLimit=59502,gasUsed=59502 fn=contracts_test.go:TestCloseChannel1:204
--- PASS: TestCloseChannel1 (16.09s)
	contracts_test.go:175: channelID=beaf2df366fa71e0a19e69bfdfeaddc4249ddd499b614487b9bcebd6318cf63c,settleblockNumber=50,state=1,err=%!s(<nil>)
=== RUN   TestCloseChannel2
TRACE[06-29|22:53:27.819] createchannel between 0x292650fee408320D888e06ed89D938294Ea42f99-0x524757BBeA735613617024f2d96D9f5d826aD233,tokenNetwork=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
 fn=contracts_test.go:creatAChannelAndDeposit:90
INFO [06-29|22:53:30.835] OpenChannel gasLimit=69099,gasUsed=69099 fn=contracts_test.go:creatAChannelAndDeposit:101
TRACE[06-29|22:53:30.836] create channel gas 0x35699199c526561fdacd19e130d58feacb7ed3f0519b20a17ca165215cecdc26:69099,channel identifier=0xf665d83619ced8a14190fdc709dc276f5bcf9a62e4d6bd65b030b29897feff06,tokennetworkaddress=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
 fn=contracts_test.go:creatAChannelAndDeposit:106
INFO [06-29|22:53:30.836] NewChannel complete...
                  fn=contracts_test.go:creatAChannelAndDeposit:107
TRACE[06-29|22:53:30.857] deposit gas 0xd4194199cc504d4e421b725c905b6be441b668d211227e8b9d5c180b96c60e83:73951
 fn=contracts_test.go:creatAChannelAndDeposit:119
INFO [06-29|22:53:34.858] Deposit1 complete...
                    fn=contracts_test.go:creatAChannelAndDeposit:125
INFO [06-29|22:53:38.878] Deposit complete...,gasLimit=73951,gasUsed=73951 fn=contracts_test.go:creatAChannelAndDeposit:137
INFO [06-29|22:53:42.906] CloseChannel with evidence gasLimit=114332,gasUsed=114332 fn=contracts_test.go:TestCloseChannel2:329
--- PASS: TestCloseChannel2 (15.09s)
	contracts_test.go:175: channelID=f665d83619ced8a14190fdc709dc276f5bcf9a62e4d6bd65b030b29897feff06,settleblockNumber=50,state=1,err=%!s(<nil>)
=== RUN   TestCloseChannelAndUpdateNonClosingAndSettle
TRACE[06-29|22:53:42.906] createchannel between 0x292650fee408320D888e06ed89D938294Ea42f99-0x11154D749Bd80D83d9cE3A95485D85D77AeaFe2c,tokenNetwork=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
 fn=contracts_test.go:creatAChannelAndDeposit:90
INFO [06-29|22:53:46.921] OpenChannel gasLimit=69099,gasUsed=69099 fn=contracts_test.go:creatAChannelAndDeposit:101
TRACE[06-29|22:53:46.922] create channel gas 0x0d942feba7dae18d2154f1ea9aed417604869eadf3eafffef12334a4e962763a:69099,channel identifier=0x2465e326a1a6766ebcf225c14b13b649aeb5fd60eeb9be3d13b750e514265b3a,tokennetworkaddress=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
 fn=contracts_test.go:creatAChannelAndDeposit:106
INFO [06-29|22:53:46.922] NewChannel complete...
                  fn=contracts_test.go:creatAChannelAndDeposit:107
TRACE[06-29|22:53:46.937] deposit gas 0xfed5040dae648863a90e95d8543546a5534bef28af4af07f08fcbacb37eee9bf:73951
 fn=contracts_test.go:creatAChannelAndDeposit:119
INFO [06-29|22:53:50.944] Deposit1 complete...
                    fn=contracts_test.go:creatAChannelAndDeposit:125
INFO [06-29|22:53:54.966] Deposit complete...,gasLimit=73951,gasUsed=73951 fn=contracts_test.go:creatAChannelAndDeposit:137
INFO [06-29|22:54:03.039] UpdateNonClosingBalanceProof gasLimit=95996,gasUsed=95996 fn=contracts_test.go:TestCloseChannelAndUpdateNonClosingAndSettle:408
INFO [06-29|22:55:45.451] SettleChannel gasLimit=142668,gasUsed=71334 fn=contracts_test.go:TestCloseChannelAndUpdateNonClosingAndSettle:455
--- PASS: TestCloseChannelAndUpdateNonClosingAndSettle (122.54s)
	contracts_test.go:175: channelID=2465e326a1a6766ebcf225c14b13b649aeb5fd60eeb9be3d13b750e514265b3a,settleblockNumber=50,state=1,err=%!s(<nil>)
=== RUN   TestCooperateSettleChannel
TRACE[06-29|22:55:45.451] createchannel between 0x292650fee408320D888e06ed89D938294Ea42f99-0x970edf974504F6B9F4b8A406D72d811D72b71264,tokenNetwork=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
 fn=contracts_test.go:creatAChannelAndDeposit:90
INFO [06-29|22:55:49.465] OpenChannel gasLimit=69099,gasUsed=69099 fn=contracts_test.go:creatAChannelAndDeposit:101
TRACE[06-29|22:55:49.465] create channel gas 0x9d9eed0b3eae1c2999c4898264145c244af57926a1dc9dee185623d75a6d19e5:69099,channel identifier=0x1c7cc7377ada84a115612288ec818b3d54bcf5d9909f4bd29daebee151041b81,tokennetworkaddress=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
 fn=contracts_test.go:creatAChannelAndDeposit:106
INFO [06-29|22:55:49.465] NewChannel complete...
                  fn=contracts_test.go:creatAChannelAndDeposit:107
TRACE[06-29|22:55:49.479] deposit gas 0x9868f442851734e5de3d721bd18be3b26ba2717dcf84f507a1b748f653452a22:73951
 fn=contracts_test.go:creatAChannelAndDeposit:119
INFO [06-29|22:55:53.483] Deposit1 complete...
                    fn=contracts_test.go:creatAChannelAndDeposit:125
INFO [06-29|22:55:57.5] Deposit complete...,gasLimit=73951,gasUsed=73951 fn=contracts_test.go:creatAChannelAndDeposit:137
TRACE[06-29|22:55:57.501] cs=
(*contractstest.CoOperativeSettleForContracts)(0xc42026a000)({
 Particiant1: (common.Address) (len=20 cap=20) 0x292650fee408320D888e06ed89D938294Ea42f99,
 Participant2: (common.Address) (len=20 cap=20) 0x970edf974504F6B9F4b8A406D72d811D72b71264,
 Participant1Balance: (*big.Int)(0xc4200bf780)(3),
 Participant2Balance: (*big.Int)(0xc4200bf7a0)(47),
 ChannelIdentifier: (contracts.ChannelIdentifier) (len=32 cap=32) {
  00000000  1c 7c c7 37 7a da 84 a1  15 61 22 88 ec 81 8b 3d  |.|.7z....a"....=|
  00000010  54 bc f5 d9 90 9f 4b d2  9d ae be e1 51 04 1b 81  |T.....K.....Q...|
 },
 TokenNetworkAddress: (common.Address) (len=20 cap=20) 0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3,
 ChainID: (*big.Int)(0xc42000c0c0)(8888)
})
 fn=contracts_test.go:TestCooperateSettleChannel:503
INFO [06-29|22:56:01.532] CooperativeSettle gasLimit=158614,gasUsed=98614 fn=contracts_test.go:TestCooperateSettleChannel:525
--- PASS: TestCooperateSettleChannel (16.08s)
	contracts_test.go:175: channelID=1c7cc7377ada84a115612288ec818b3d54bcf5d9909f4bd29daebee151041b81,settleblockNumber=50,state=1,err=%!s(<nil>)
=== RUN   TestSetTotalWithdraw
TRACE[06-29|22:56:01.532] createchannel between 0x292650fee408320D888e06ed89D938294Ea42f99-0x511d0CC5EAdAa9D0360A49d98F1A1c887dee433b,tokenNetwork=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
 fn=contracts_test.go:creatAChannelAndDeposit:90
INFO [06-29|22:56:05.545] OpenChannel gasLimit=69099,gasUsed=69099 fn=contracts_test.go:creatAChannelAndDeposit:101
TRACE[06-29|22:56:05.546] create channel gas 0xa63373fc8341b0c33f12ef563f15d2257aa7bfe050de3adf4dcdb3fde5838fae:69099,channel identifier=0x4f78d1a7ac36852c439a93a78a444e274b0e75c35af6c90c1983aaa2716b3df2,tokennetworkaddress=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
 fn=contracts_test.go:creatAChannelAndDeposit:106
INFO [06-29|22:56:05.546] NewChannel complete...
                  fn=contracts_test.go:creatAChannelAndDeposit:107
TRACE[06-29|22:56:05.56] deposit gas 0xb9c2cb6fd234580fc85318bc1cdc265d870ac6110d6f7db71391d5d61d262950:73951
 fn=contracts_test.go:creatAChannelAndDeposit:119
INFO [06-29|22:56:09.564] Deposit1 complete...
                    fn=contracts_test.go:creatAChannelAndDeposit:125
INFO [06-29|22:56:13.581] Deposit complete...,gasLimit=73951,gasUsed=73951 fn=contracts_test.go:creatAChannelAndDeposit:137
TRACE[06-29|22:56:13.583] w=
(*contractstest.WithDrawForContract)(0xc4200c6900)({
 ChannelIdentifier: (contracts.ChannelIdentifier) (len=32 cap=32) {
  00000000  4f 78 d1 a7 ac 36 85 2c  43 9a 93 a7 8a 44 4e 27  |Ox...6.,C....DN'|
  00000010  4b 0e 75 c3 5a f6 c9 0c  19 83 aa a2 71 6b 3d f2  |K.u.Z.......qk=.|
 },
 Participant: (common.Address) (len=20 cap=20) 0x292650fee408320D888e06ed89D938294Ea42f99,
 TotalWithDraw: (*big.Int)(0xc420305900)(51),
 TokenNetworkAddress: (common.Address) (len=20 cap=20) 0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3,
 ChainID: (*big.Int)(0xc42000c0c0)(8888)
})
 fn=contracts_test.go:TestSetTotalWithdraw:567
TRACE[06-29|22:56:13.608] w=
(*contractstest.WithDrawForContract)(0xc4200c6900)({
 ChannelIdentifier: (contracts.ChannelIdentifier) (len=32 cap=32) {
  00000000  4f 78 d1 a7 ac 36 85 2c  43 9a 93 a7 8a 44 4e 27  |Ox...6.,C....DN'|
  00000010  4b 0e 75 c3 5a f6 c9 0c  19 83 aa a2 71 6b 3d f2  |K.u.Z.......qk=.|
 },
 Participant: (common.Address) (len=20 cap=20) 0x292650fee408320D888e06ed89D938294Ea42f99,
 TotalWithDraw: (*big.Int)(0xc4202cedc0)(10),
 TokenNetworkAddress: (common.Address) (len=20 cap=20) 0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3,
 ChainID: (*big.Int)(0xc42000c0c0)(8888)
})
 fn=contracts_test.go:TestSetTotalWithdraw:581
INFO [06-29|22:56:17.632] withdraw gasLimit=88926,gasUsed=88926    fn=contracts_test.go:TestSetTotalWithdraw:602
--- PASS: TestSetTotalWithdraw (16.10s)
	contracts_test.go:175: channelID=4f78d1a7ac36852c439a93a78a444e274b0e75c35af6c90c1983aaa2716b3df2,settleblockNumber=50,state=1,err=%!s(<nil>)
=== RUN   TestRegisterSecret
--- PASS: TestRegisterSecret (4.01s)
	contracts_test.go:617: secret=0x64e604787cbf194841e7b68d7cd28786f6c9a0a3ab9f8b0a0e87cb4387ab0107
	contracts_test.go:637: register block=2262335
=== RUN   TestUnlock
TRACE[06-29|22:56:21.644] createchannel between 0x292650fee408320D888e06ed89D938294Ea42f99-0xA7AEafBCc972b27627ec43D0f054a8ca383101B7,tokenNetwork=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
 fn=contracts_test.go:creatAChannelAndDeposit:90
INFO [06-29|22:56:25.658] OpenChannel gasLimit=69099,gasUsed=69099 fn=contracts_test.go:creatAChannelAndDeposit:101
TRACE[06-29|22:56:25.658] create channel gas 0x851d3c03bc395f8adf6b50489ab64138b6415f53a9a4988785d65772a0967378:69099,channel identifier=0x9b6743a4d8447c138beb53cd24ce049ae2da2b6e9babd6461052f07189fea17c,tokennetworkaddress=0xF9b14F75Fe8cF31CdAe0F010F99E0a2C1E843ee3
 fn=contracts_test.go:creatAChannelAndDeposit:106
INFO [06-29|22:56:25.658] NewChannel complete...
                  fn=contracts_test.go:creatAChannelAndDeposit:107
TRACE[06-29|22:56:25.672] deposit gas 0x8d86624ee952140dd5cc583f6861d3a9e512fb798261ec82fd654fcc4935a4f9:73951
 fn=contracts_test.go:creatAChannelAndDeposit:119
INFO [06-29|22:56:28.675] Deposit1 complete...
                    fn=contracts_test.go:creatAChannelAndDeposit:125
INFO [06-29|22:56:33.692] Deposit complete...,gasLimit=73951,gasUsed=73951 fn=contracts_test.go:creatAChannelAndDeposit:137
INFO [06-29|22:56:33.693] before settle partner balance=0          fn=contracts_test.go:TestUnlock:651
INFO [06-29|22:56:37.714] close channel successful,gasused=114332,gasLimit=114332 fn=contracts_test.go:TestUnlock:687
INFO [06-29|22:56:49.745] locksroot=0xca22b9179bda9f51135a93f9a359e8d4e233e4ee2a9ca6bd81b0eeef4ff096d2 fn=contracts_test.go:TestUnlock:711
INFO [06-29|22:56:52.773] UpdateNonClosingBalanceProof successful,gasused=95868,gasLimit=95868 fn=contracts_test.go:TestUnlock:727
INFO [06-29|22:56:52.774] waiting settle...                        fn=contracts_test.go:TestUnlock:737
INFO [06-29|22:58:23.135] settle channel complete ,gasused=82467,gasLimit=164933 fn=contracts_test.go:TestUnlock:775
INFO [06-29|22:58:23.135] unlockarg,partnerAddr=0xA7AEafBCc972b27627ec43D0f054a8ca383101B7,part2=0x292650fee408320D888e06ed89D938294Ea42f99,locks=00000000000000000000000000000000000000000000000000000000002677c20000000000000000000000000000000000000000000000000000000000000001e561c33caf1b0073c0ca87ea9c5a4175b5b7a9f88ded68fde5cdc7f21f61651200000000000000000000000000000000000000000000000000000000002677c20000000000000000000000000000000000000000000000000000000000000001d8fd492252f93d9901ce5e982122470f166ab58581d4e8d6888b36b74445465300000000000000000000000000000000000000000000000000000000002677c200000000000000000000000000000000000000000000000000000000000000017ff045a43249a8d0ead0a17bd783f121469850bba0d540196596201544a15fd1 fn=contracts_test.go:TestUnlock:783
INFO [06-29|22:58:27.16] unlock success,gasUsed=56879,gasLimit=71879,txhash=0x32b40a13946db192c348027cfe608a3b1a8f27fcc755db3dd216c7922389ce3d fn=contracts_test.go:TestUnlock:799
--- PASS: TestUnlock (125.52s)
	contracts_test.go:175: channelID=9b6743a4d8447c138beb53cd24ce049ae2da2b6e9babd6461052f07189fea17c,settleblockNumber=50,state=1,err=%!s(<nil>)
	contracts_test.go:781: after settle partner balance=25
	contracts_test.go:805: after unlock partner balance balance=28
=== RUN   TestSignature
TRACE[06-29|22:58:27.162] sig=[250 166 23 81 96 92 180 28 28 103 143 195 219 117 229 210 122 69 180 93 12 250 171 228 137 173 2 110 217 229 139 23 49 16 136 146 54 204 110 179 127 154 86 173 220 143 195 58 72 54 165 149 15 41 77 89 12 3 42 11 103 85 14 254 27] fn=contracts_test.go:TestSignature:835
TRACE[06-29|22:58:27.162] from=0x292650fee408320D888e06ed89D938294Ea42f99,sig=faa61751605cb41c1c678fc3db75e5d27a45b45d0cfaabe489ad026ed9e58b173110889236cc6eb37f9a56addc8fc33a4836a5950f294d590c032a0b67550efe1b fn=contracts_test.go:TestSignature:836
--- PASS: TestSignature (0.00s)
PASS

Process finished with exit code 0
